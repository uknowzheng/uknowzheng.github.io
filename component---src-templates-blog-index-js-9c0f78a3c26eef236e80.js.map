{"version":3,"sources":["webpack:///./src/templates/blog-index.js"],"names":["BlogIndex","render","this","props","data","pageContext","totalPage","currentPage","pageScore","siteTitle","site","siteMetadata","title","social","posts","allMarkdownRemark","edges","location","className","style","width","rhythm","height","map","node","frontmatter","fields","slug","key","marginBottom","boxShadow","to","date","dangerouslySetInnerHTML","__html","description","excerpt","rel","v","color","React","Component","pageQuery"],"mappings":"+OASMA,E,gLACJC,OAAA,WAAU,IAAD,EACuBC,KAAKC,MAA3BC,EADD,EACCA,KAAMC,EADP,EACOA,YACNC,EAAsCD,EAAtCC,UAAWC,EAA2BF,EAA3BE,YAAaC,EAAcH,EAAdG,UAC1BC,EAAYL,EAAKM,KAAKC,aAAaC,MACnCC,EAAST,EAAKM,KAAKC,aAAaE,OAChCC,EAAQV,EAAKW,kBAAkBC,MAErC,OACE,kBAAC,IAAD,CAAQC,SAAUf,KAAKC,MAAMc,SAAUL,MAAOH,EAAWI,OAAQA,GAC/D,kBAAC,IAAD,CAAKD,MAAM,cACX,yBAAKM,UAAU,QACb,2BACEC,MAAO,CACLC,MAAOC,YAAO,KAGhB,kBAAC,IAAD,OAGF,6BACEF,MAAO,CACLC,MAAOC,YAAO,IACdC,OAAQ,SAGTR,EAAMS,KAAI,YAAe,IAAZC,EAAW,EAAXA,KACNZ,EAAQY,EAAKC,YAAYb,OAASY,EAAKE,OAAOC,KACpD,OACE,yBAAKC,IAAKJ,EAAKE,OAAOC,MACpB,wBACER,MAAO,CACLU,aAAcR,YAAO,EAAI,KAG3B,kBAAC,OAAD,CAAMF,MAAO,CAAEW,UAAU,QAAWC,GAAIP,EAAKE,OAAOC,MACjDf,IAGL,+BAAQY,EAAKC,YAAYO,MACzB,uBACEC,wBAAyB,CACvBC,OAAQV,EAAKC,YAAYU,aAAeX,EAAKY,iBAQ3D,gCACE,yBAAKlB,UAAU,QACZX,EAAc,EAAI,GACjB,kBAAC,OAAD,CACEwB,GAAIxB,EAAc,GAAM,EAAI,IAAM,SAAWA,EAAc,EAC3D8B,IAAI,QAFN,QAOA7B,GAAa,IAAIe,KAAI,SAAAe,GACrB,OACE,kBAAC,OAAD,CACEnB,MAAO,CAAEoB,MAAOD,IAAM/B,EAAc,MAAQ,MAC5CwB,GAAU,IAANO,EAAU,IAAM,SAAWA,GAE9BA,MAIN/B,EAAc,GAAKD,GAClB,kBAAC,OAAD,CAAMyB,GAAI,UAAYxB,EAAc,GAAI8B,IAAI,QAA5C,W,GAvEUG,IAAMC,WAkFfzC,YAER,IAAM0C,EAAS,c","file":"component---src-templates-blog-index-js-9c0f78a3c26eef236e80.js","sourcesContent":["import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { rhythm } from \"../utils/typography\"\nimport \"./index.scss\"\n\nclass BlogIndex extends React.Component {\n  render() {\n    const { data, pageContext } = this.props\n    const { totalPage, currentPage, pageScore } = pageContext\n    const siteTitle = data.site.siteMetadata.title\n    const social = data.site.siteMetadata.social\n    const posts = data.allMarkdownRemark.edges\n\n    return (\n      <Layout location={this.props.location} title={siteTitle} social={social}>\n        <SEO title=\"All posts\" />\n        <div className=\"main\">\n          <aside\n            style={{\n              width: rhythm(8),\n            }}\n          >\n            <Bio />\n          </aside>\n\n          <article\n            style={{\n              width: rhythm(28),\n              height: \"100%\",\n            }}\n          >\n            {posts.map(({ node }) => {\n              const title = node.frontmatter.title || node.fields.slug\n              return (\n                <div key={node.fields.slug}>\n                  <h3\n                    style={{\n                      marginBottom: rhythm(1 / 4),\n                    }}\n                  >\n                    <Link style={{ boxShadow: `none` }} to={node.fields.slug}>\n                      {title}\n                    </Link>\n                  </h3>\n                  <small>{node.frontmatter.date}</small>\n                  <p\n                    dangerouslySetInnerHTML={{\n                      __html: node.frontmatter.description || node.excerpt,\n                    }}\n                  />\n                </div>\n              )\n            })}\n          </article>\n        </div>\n        <footer>\n          <div className=\"page\">\n            {currentPage - 1 > 0 && (\n              <Link\n                to={currentPage - 1 === 1 ? \"/\" : \"/page/\" + currentPage - 1}\n                rel=\"prev\"\n              >\n                上一页\n              </Link>\n            )}\n            {(pageScore || []).map(v => {\n              return (\n                <Link\n                  style={{ color: v === currentPage ? \"red\" : null }}\n                  to={v === 1 ? \"/\" : \"/page/\" + v}\n                >\n                  {v}\n                </Link>\n              )\n            })}\n            {currentPage + 1 <= totalPage && (\n              <Link to={\"/page/\" + (currentPage + 1)} rel=\"next\">\n                下一页\n              </Link>\n            )}\n          </div>\n        </footer>\n      </Layout>\n    )\n  }\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n        description\n        author\n        social {\n          github\n        }\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      limit: $limit\n      skip: $skip\n    ) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}